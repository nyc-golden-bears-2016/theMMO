console.log("ENEMY PAGE LOADING")
var currentEnemies = [];
var Enemy = function Enemy() {
  this.name = "missing no.";
  this.pos_x = 0;
  this.pos_y = 300;
  this.width = 0;
  this.height = 0;
  this.attack = 0;
  this.defense = 0;
  this.speed = 0;
  this.health = 0;
  this.maxHealth = 0;
  this.pose = "";
  this.poseFrame = 0;
  this.sprites = {stand: "",
                  attack: ""};
}

var enemyMake = function(type) {
  if (type === "slime") {
    var enemy = new Enemy;
    enemy.name = "slime";
    enemy.width = 174;
    enemy.height = 131;
    enemy.attack = 4 + Math.floor(Math.random() * 4);
    enemy.defense = 4 + Math.floor(Math.random() * 4);
    enemy.attackSpeed = 15 + Math.floor(Math.random() * 15);
    enemy.maxHealth = 30 + Math.floor(Math.random() * 30);
    enemy.sprites = {stand: slime_stand01,
                    attack: slime_attack01};
  }
  enemy.pose = "standing";
  enemy.health = enemy.maxHealth;
  return enemy;
}

Enemy.prototype.drawEnemy = function(){
  this.poseFrame++;
  if(this.pose === "dead") {
    this.height = Math.max(this.height - 15,0);
    if(this.height > 0) {
      this.pos_y += 15;
    }
  }
  if (this.pose === "standing" || this.pose === "dead") {
    return this.sprites.stand;
  } else if (this.pose === "attacking") {
    if (this.poseFrame > 20) {
      this.setPose("standing");
      return this.drawEnemy();
    } else {
      return this.sprites.attack;
    }
  }
}

Enemy.prototype.setPose = function(pose) {
  this.pose = pose;
  this.poseFrame = 0;
}

Enemy.prototype.attackPlayer = function(player) {
  player.health -= this.attack;
}

